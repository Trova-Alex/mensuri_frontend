<div [ngClass]="expanded ? 'w-64' : 'w-20'"
     class="flex flex-col bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 h-screen shadow-md transition-all duration-300 relative">
  <div class="h-[10%] flex items-center justify-center border-b border-gray-700">
    <app-profile [expanded]="expanded"></app-profile>
  </div>

  <nav class="flex-1 px-2 py-4 space-y-1">
    <a (click)="openLinkUserDialog()"
       class="flex items-center rounded-md cursor-pointer transition
               hover:bg-gray-700 p-2"
       [ngClass]="expanded ? 'justify-start gap-3' : 'justify-center'">
      <span class="text-lg">ðŸ”—</span>
      @if (expanded){
        <span>Vincular paciente</span>
      }
    </a>
  </nav>

  <div class="px-2 py-3 border-t border-gray-200 border-gray-700 space-y-2">
    <button (click)="logout()"
            class="flex items-center w-full cursor-pointer transition rounded-md hover:bg-gray-700 p-2 text-red-600 text-red-400"
            [ngClass]="expanded ? 'justify-start gap-3' : 'justify-center'">
      <span>

        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
        <path fill-rule="evenodd" d="M16.5 3.75a1.5 1.5 0 0 1 1.5 1.5v13.5a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5V15a.75.75 0 0 0-1.5 0v3.75a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3V5.25a3 3 0 0 0-3-3h-6a3 3 0 0 0-3 3V9A.75.75 0 1 0 9 9V5.25a1.5 1.5 0 0 1 1.5-1.5h6ZM5.78 8.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 0 0 0 1.06l3 3a.75.75 0 0 0 1.06-1.06l-1.72-1.72H15a.75.75 0 0 0 0-1.5H4.06l1.72-1.72a.75.75 0 0 0 0-1.06Z" clip-rule="evenodd" />
      </svg>

      </span>
      @if (expanded){
        <span>Logout</span>
      }
    </button>
  </div>

  <button (click)="onToggle()"
          class="absolute top-3 right-0 transform translate-x-1/2 
                 bg-indigo-500 text-white rounded-full p-2 shadow-md hover:bg-indigo-600 transition z-50">
    @if (expanded){
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    }
    @if (!expanded){
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none"
         viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
      </svg>
    }
  </button>
</div>
@if (openDialog) {
  <app-link-user-dialog (close)="closeLinkUserDialog()"></app-link-user-dialog>
}
